{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<nav class=\\\"navbar navbar-expand navbar-dark bg-primary navbar-top\\\">\\n  <div class=\\\"collapse navbar-collapse\\\">\\n    <ul class=\\\"navbar-nav mr-auto\\\">\\n      <li class=\\\"navbar-brand\\\" style=\\\"font-weight: 700; color: whitesmoke;\\\">\\n        Enterprise AgGrid ~ Hierarchical Excel Export\\n      </li>\\n    </ul>\\n    <ul class=\\\"navbar-nav my-2 my-lg-0\\\">\\n      <li class=\\\"nav-item\\\">\\n        <a class=\\\"nav-item\\\" style=\\\"font-weight: 700; color: whitesmoke;\\\" alt=\\\"Fork me on GitHub\\\" target=\\\"_blank\\\" title=\\\"View Source\\\"\\n           href=\\\"https://github.com/bradyhouse/house/blob/master/fiddles/angular2-cli/fiddle-0035-EntAgGridHierarchicalExport\\\">\\n          Fork Me On Github\\n        </a>\\n      </li>\\n    </ul>\\n  </div>\\n</nav>\\n<ag-grid-angular\\n      #agGrid style=\\\"width: 100%; height: 100%;\\\" id=\\\"myGrid\\\" class=\\\"ag-theme-balham\\\" [columnDefs]=\\\"columnDefs\\\"\\n       [masterDetail]=\\\"true\\\"\\n       [modules]=\\\"modules\\\"\\n       [keepDetailRows]=\\\"true\\\"\\n       [defaultColDef]=\\\"defaultColDef\\\"\\n       [keepDetailRowsCount]=\\\"keepDetailRowsCount\\\"\\n       [detailCellRendererParams]=\\\"detailCellRendererParams\\\"\\n       [defaultExportParams]=\\\"defaultExportParams\\\"\\n       [excelStyles]=\\\"excelStyles\\\"\\n       [rowData]=\\\"rowData\\\"\\n       (firstDataRendered)=\\\"onFirstDataRendered($event)\\\"\\n       (gridReady)=\\\"onGridReady($event)\\\"\\n    ></ag-grid-angular>\\n    <nav *ngIf=\\\"ifInstructions\\\" class=\\\"navbar navbar-expand navbar-dark bg-success fixed-bottom navbar-bottom\\\">\\n      <div class=\\\"collapse navbar-collapse\\\">\\n        <ul class=\\\"navbar-nav my-2 my-lg-0\\\">\\n          <li class=\\\"nav-item\\\">\\n            <span style=\\\"font-weight: 700; color: whitesmoke;\\\" >\\n              Double Click a cell and select Export\\n            </span>\\n          </li>\\n        </ul>\\n      </div>\\n    </nav>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component, ViewChild } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\nimport { AllModules } from '@ag-grid-enterprise/all-modules';\n\nfunction cell(text: any, styleId: any = null) {\n  return {\n    styleId: styleId,\n    data: {\n      type: /^\\d+$/.test(text) ? 'Number' : 'String',\n      value: String(text)\n    }\n  };\n}\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  gridApi;\n  gridColumnApi;\n  modules: any[] = AllModules;\n  columnDefs;\n  detailCellRendererParams;\n  rowData;\n  keepDetailRowsCount;\n  defaultExportParams: any;\n  defaultColDef: any;\n  excelStyles: any;\n  ifInstructions: boolean = true;\n\n  constructor(private http: Http) {\n\n    this.keepDetailRowsCount = 2;\n\n    this.columnDefs = [\n      {\n        field: 'name',\n        cellRenderer: 'agGroupCellRenderer',\n        cellClass: 'body'\n      },\n      { field: 'account',\n        cellClass: 'body' },\n      { field: 'calls',\n        cellClass: 'body' },\n      {\n        field: 'minutes',\n        valueFormatter: 'x.toLocaleString() + \"m\"',\n        cellClass: 'bodyFloat'\n      },\n      {\n        field: 'Comment',\n        cellClass: 'body'\n      },\n      {\n        field: 'rating',\n        cellClass: 'body'\n      }\n    ];\n    this.detailCellRendererParams = {\n      detailGridOptions: {\n        defaultColDef: { sortable: true },\n        columnDefs: [\n          { field: 'callId' },\n          { field: 'direction' },\n          { field: 'number' },\n          {\n            field: 'duration',\n            valueFormatter: 'x.toLocaleString() + \"s\"'\n          },\n          { field: 'switchCode' }\n        ],\n        onFirstDataRendered: (params) => {\n         this.autoSizeAllColumns(params);\n        }\n      },\n      getDetailRowData: (params) => {\n        setTimeout(() => {\n          params.successCallback(params.data.callRecords);\n        }, 2000);\n      },\n      template:\n        '<div style=\"height: 100%; background-color: var(--blue6); padding: 10px;\">' +\n        '  <div ref=\"eDetailGrid\" style=\"height: 100%;\"></div>' +\n        '</div>',\n      sheetName: 'EntAgGridHierarchicalExport',\n      fileName: 'fiddle-0035',\n      columnWidth: '20'\n    };\n    this.defaultColDef = {\n      filter: true,\n      resizable: true,\n      sortable: true\n    };\n\n    this.defaultExportParams = {\n      getCustomContentBelowRow: (params: any) => {\n        if (params.node.data.callRecords && params.node.data.callRecords.length) {\n          return [\n            [\n              cell(''),\n              cell('callId', 'header'),\n              cell('direction', 'header'),\n              cell('number', 'header'),\n              cell('duration', 'header'),\n              cell('switchCode', 'header')\n            ]\n          ].concat(\n            params.node.data.callRecords.map((record: any) => {\n              return [\n                cell(''),\n                cell(record.callId, 'body'),\n                cell(record.direction, 'body'),\n                cell(record.number, 'body'),\n                cell(record.duration, 'body'),\n                cell(record.switchCode, 'body')\n              ];\n            }),\n            [[]]\n          );\n        }\n        return false;\n      }\n    };\n\n    this.excelStyles = [\n      {\n        id: 'header',\n        interior: {\n          color: '#007BFF',\n          pattern: 'Solid'\n        },\n        font: {\n          color: '#FFFFFF'\n        },\n        alignment: {\n          horizontal: 'Left', vertical: 'Middle'\n        }\n\n      },\n      {\n        id: 'headerNum',\n        interior: {\n          color: '#007BFF',\n          pattern: 'Solid'\n        },\n        alignment: {\n          horizontal: 'Right', vertical: 'Middle'\n        }\n      },\n      {\n        id: 'body',\n        interior: {\n          color: '#ebf9ff',\n          pattern: 'DiagCross'\n        }\n      },\n      {\n        id: 'bodyInt',\n        interior: {\n          color: '#ebf9ff',\n          pattern: 'Solid'\n        },\n        numberFormat: { format: '#,##0_);[Red](#,##0)' },\n        alignment: {\n          horizontal: 'Right', vertical: 'Middle'\n        }\n      },\n      {\n        id: 'bodyFloat',\n        numberFormat: { format: '0.00' },\n        interior: {\n          color: '#ebf9ff',\n          pattern: 'Solid'\n        },\n        alignment: {\n          horizontal: 'Right', vertical: 'Middle'\n        }\n      },\n\n    ];\n\n  }\n\n  onFirstDataRendered(params) {\n    this.autoSizeAllColumns(params);\n  }\n\n  onGridReady(params) {\n    this.gridApi = params.api;\n    this.gridColumnApi = params.columnApi;\n\n    this.http\n      .get(\n        'https://raw.githubusercontent.com/ag-grid/ag-grid-docs/latest/src/javascript-grid-master-detail/simple/data/data.json'\n      )\n      .map((res: Response) => res.json())\n      .subscribe(data => {\n        console.log(typeof data);\n        this.rowData = data;\n      });\n    \n      setTimeout(() => {\n        this.ifInstructions = false;\n      }, 3000);\n  }\n\n  private autoSizeAllColumns(params: any): void {\n    const allColumnIds: any[] = [];\n    params.columnApi.getAllColumns().forEach(function(column) {\n      allColumnIds.push(column.colId);\n    });\n    params.columnApi.autoSizeColumns(allColumnIds, false);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { AgGridModule } from \"@ag-grid-community/angular\";\nimport { AppComponent } from './app.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    AgGridModule.withComponents([])\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport { LicenseManager } from '@ag-grid-enterprise/all-modules';\n\n\nfetch('assets/license.json').then((response: any) => {\n  return response.json();\n}).then((data: any) => {\n  LicenseManager.setLicenseKey(data.license);\n  if (environment.production) {\n    enableProdMode();\n  }\n  platformBrowserDynamic().bootstrapModule(AppModule)\n    .catch(err => console.error(err));\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}