var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ut(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}var q={exports:{}};/*! dom-to-image-more 26-04-2023 */(function(L,at){(function(R){const l=function(){let a=0;return{escape:function(t){return t.replace(/([.*+?^${}()|[]\/\\])/g,"\\$1")},isDataUrl:function(t){return t.search(/^(data:)/)!==-1},canvasToBlob:function(t){return t.toBlob?new Promise(function(n){t.toBlob(n)}):function(n){return new Promise(function(o){var u=z(n.toDataURL().split(",")[1]),f=u.length,E=new Uint8Array(f);for(let d=0;d<f;d++)E[d]=u.charCodeAt(d);o(new Blob([E],{type:"image/png"}))})}(t)},resolveUrl:function(t,n){var o=document.implementation.createHTMLDocument(),u=o.createElement("base"),f=(o.head.appendChild(u),o.createElement("a"));return o.body.appendChild(f),u.href=n,f.href=t,f.href},getAndEncode:function(t){let n=y.impl.urlCache.find(function(o){return o.url===t});return n||(n={url:t,promise:null},y.impl.urlCache.push(n)),n.promise===null&&(y.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime()),n.promise=new Promise(function(o){const u=y.impl.options.httpTimeout,f=new XMLHttpRequest;f.onreadystatechange=function(){if(f.readyState===4)if(f.status!==200)E?o(E):w(`cannot fetch resource: ${t}, status: `+f.status);else{const p=new FileReader;p.onloadend=function(){o(p.result)},p.readAsDataURL(f.response)}},f.ontimeout=function(){E?o(E):w(`timeout of ${u}ms occured while fetching resource: `+t)},f.responseType="blob",f.timeout=u,y.impl.options.useCredentials&&(f.withCredentials=!0),f.open("GET",t,!0),f.send();let E;var d;function w(p){console.error(p),o("")}y.impl.options.imagePlaceholder&&(d=y.impl.options.imagePlaceholder.split(/,/))&&d[1]&&(E=d[1])})),n.promise},uid:function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+a++},delay:function(t){return function(n){return new Promise(function(o){setTimeout(function(){o(n)},t)})}},asArray:function(t){var n=[],o=t.length;for(let u=0;u<o;u++)n.push(t[u]);return n},escapeXhtml:function(t){return t.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return t!=="data:,"?new Promise(function(n,o){const u=new Image;y.impl.options.useCredentials&&(u.crossOrigin="use-credentials"),u.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){n(u)}):n(u)},u.onerror=o,u.src=t}):Promise.resolve()},width:function(t){var n=c(t,"width");if(!isNaN(n))return n;var n=c(t,"border-left-width"),o=c(t,"border-right-width");return t.scrollWidth+n+o},height:function(t){var n=c(t,"height");if(!isNaN(n))return n;var n=c(t,"border-top-width"),o=c(t,"border-bottom-width");return t.scrollHeight+n+o},getWindow:e,isElement:s,isElementHostForOpenShadowRoot:function(t){return s(t)&&t.shadowRoot!==null},isShadowRoot:i,isInShadowRoot:h,isHTMLElement:function(t){return t instanceof e(t).HTMLElement},isHTMLCanvasElement:function(t){return t instanceof e(t).HTMLCanvasElement},isHTMLInputElement:function(t){return t instanceof e(t).HTMLInputElement},isHTMLImageElement:function(t){return t instanceof e(t).HTMLImageElement},isHTMLLinkElement:function(t){return t instanceof e(t).HTMLLinkElement},isHTMLScriptElement:function(t){return t instanceof e(t).HTMLScriptElement},isHTMLStyleElement:function(t){return t instanceof e(t).HTMLStyleElement},isHTMLTextAreaElement:function(t){return t instanceof e(t).HTMLTextAreaElement},isShadowSlotElement:function(t){return h(t)&&t instanceof e(t).HTMLSlotElement},isSVGElement:function(t){return t instanceof e(t).SVGElement},isSVGRectElement:function(t){return t instanceof e(t).SVGRectElement},isDimensionMissing:function(t){return isNaN(t)||t<=0}};function e(t){return t=t?t.ownerDocument:void 0,(t?t.defaultView:void 0)||R||window}function i(t){return t instanceof e(t).ShadowRoot}function h(t){return t!==null&&Object.prototype.hasOwnProperty.call(t,"getRootNode")&&i(t.getRootNode())}function s(t){return t instanceof e(t).Element}function c(t,n){if(t.nodeType===F){let o=N(t).getPropertyValue(n);if(o.slice(-2)==="px")return o=o.slice(0,-2),parseFloat(o)}return NaN}}(),I=function(){const a=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(s,c,t){return e(s)?Promise.resolve(s).then(i).then(function(n){let o=Promise.resolve(s);return n.forEach(function(u){o=o.then(function(f){return h(f,u,c,t)})}),o}):Promise.resolve(s)},shouldProcess:e,impl:{readUrls:i,inline:h}};function e(s){return s.search(a)!==-1}function i(s){for(var c,t=[];(c=a.exec(s))!==null;)t.push(c[1]);return t.filter(function(n){return!l.isDataUrl(n)})}function h(s,c,t,n){return Promise.resolve(c).then(function(o){return t?l.resolveUrl(o,t):o}).then(n||l.getAndEncode).then(function(o){return s.replace((u=c,new RegExp(`(url\\(['"]?)(${l.escape(u)})(['"]?\\))`,"g")),`$1${o}$3`);var u})}}(),k={resolveAll:function(){return B().then(function(a){return Promise.all(a.map(function(e){return e.resolve()}))}).then(function(a){return a.join(`
`)})},impl:{readAll:B}};function B(){return Promise.resolve(l.asArray(document.styleSheets)).then(function(e){const i=[];return e.forEach(function(h){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(h),"cssRules"))try{l.asArray(h.cssRules||[]).forEach(i.push.bind(i))}catch(s){console.error("domtoimage: Error while reading CSS rules from "+h.href,s.toString())}}),i}).then(function(e){return e.filter(function(i){return i.type===CSSRule.FONT_FACE_RULE}).filter(function(i){return I.shouldProcess(i.style.getPropertyValue("src"))})}).then(function(e){return e.map(a)});function a(e){return{resolve:function(){var i=(e.parentStyleSheet||{}).href;return I.inlineAll(e.cssText,i)},src:function(){return e.style.getPropertyValue("src")}}}}const j={inlineAll:function a(e){if(!l.isElement(e))return Promise.resolve(e);return i(e).then(function(){return l.isHTMLImageElement(e)?G(e).inline():Promise.all(l.asArray(e.childNodes).map(function(h){return a(h)}))});function i(h){const s=["background","background-image"],c=s.map(function(t){const n=h.style.getPropertyValue(t),o=h.style.getPropertyPriority(t);return n?I.inlineAll(n).then(function(u){h.style.setProperty(t,u,o)}):Promise.resolve()});return Promise.all(c).then(function(){return h})}},impl:{newImage:G}};function G(a){return{inline:function(e){return l.isDataUrl(a.src)?Promise.resolve():Promise.resolve(a.src).then(e||l.getAndEncode).then(function(i){return new Promise(function(h){a.onload=h,a.onerror=h,a.src=i})})}}}const M={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,httpTimeout:3e4,styleCaching:"strict"},y={toSvg:W,toPng:function(a,e){return V(a,e).then(function(i){return i.toDataURL()})},toJpeg:function(a,e){return V(a,e).then(function(i){return i.toDataURL("image/jpeg",(e?e.quality:void 0)||1)})},toBlob:function(a,e){return V(a,e).then(l.canvasToBlob)},toPixelData:function(a,e){return V(a,e).then(function(i){return i.getContext("2d").getImageData(0,0,l.width(a),l.height(a)).data})},toCanvas:V,impl:{fontFaces:k,images:j,util:l,inliner:I,urlCache:[],options:{}}},F=(L.exports=y,(typeof Node<"u"?Node.ELEMENT_NODE:void 0)||1),N=(R!==void 0?R.getComputedStyle:void 0)||(typeof window<"u"?window.getComputedStyle:void 0)||globalThis.getComputedStyle,z=(R!==void 0?R.atob:void 0)||(typeof window<"u"?window.atob:void 0)||globalThis.atob;function W(a,e){y.impl.util.getWindow(a);var i=e=e||{};i.copyDefaultStyles===void 0?y.impl.options.copyDefaultStyles=M.copyDefaultStyles:y.impl.options.copyDefaultStyles=i.copyDefaultStyles,i.imagePlaceholder===void 0?y.impl.options.imagePlaceholder=M.imagePlaceholder:y.impl.options.imagePlaceholder=i.imagePlaceholder,i.cacheBust===void 0?y.impl.options.cacheBust=M.cacheBust:y.impl.options.cacheBust=i.cacheBust,i.useCredentials===void 0?y.impl.options.useCredentials=M.useCredentials:y.impl.options.useCredentials=i.useCredentials,i.httpTimeout===void 0?y.impl.options.httpTimeout=M.httpTimeout:y.impl.options.httpTimeout=i.httpTimeout,i.styleCaching===void 0?y.impl.options.styleCaching=M.styleCaching:y.impl.options.styleCaching=i.styleCaching;let h=[];return Promise.resolve(a).then(function(s){if(s.nodeType===F)return s;var c=s,t=s.parentNode,n=document.createElement("span");return t.replaceChild(n,c),n.append(s),h.push({parent:t,child:c,wrapper:n}),n}).then(function(s){return function c(t,n,o,u){const f=n.filter;if(t===P||l.isHTMLScriptElement(t)||l.isHTMLStyleElement(t)||l.isHTMLLinkElement(t)||o!==null&&f&&!f(t))return Promise.resolve();return Promise.resolve(t).then(E).then(function(r){return w(r,d(t))}).then(function(r){return p(r,t)});function E(r){return l.isHTMLCanvasElement(r)?l.makeImage(r.toDataURL()):r.cloneNode(!1)}function d(r){return l.isElementHostForOpenShadowRoot(r)?r.shadowRoot:r}function w(r,v){const A=H(v);let b=Promise.resolve();if(A.length!==0){const T=N(D(v));l.asArray(A).forEach(function(S){b=b.then(function(){return c(S,n,T).then(function(g){g&&r.appendChild(g)})})})}return b.then(function(){return r});function D(T){return l.isShadowRoot(T)?T.host:T}function H(T){return l.isShadowSlotElement(T)?T.assignedNodes():T.childNodes}}function p(r,v){return!l.isElement(r)||l.isShadowSlotElement(v)?Promise.resolve(r):Promise.resolve().then(A).then(b).then(D).then(H).then(function(){return r});function A(){function T(g,m){m.font=g.font,m.fontFamily=g.fontFamily,m.fontFeatureSettings=g.fontFeatureSettings,m.fontKerning=g.fontKerning,m.fontSize=g.fontSize,m.fontStretch=g.fontStretch,m.fontStyle=g.fontStyle,m.fontVariant=g.fontVariant,m.fontVariantCaps=g.fontVariantCaps,m.fontVariantEastAsian=g.fontVariantEastAsian,m.fontVariantLigatures=g.fontVariantLigatures,m.fontVariantNumeric=g.fontVariantNumeric,m.fontVariationSettings=g.fontVariationSettings,m.fontWeight=g.fontWeight}function S(g,m){const C=N(g);C.cssText?(m.style.cssText=C.cssText,T(C,m.style)):(Y(n,g,C,o,m),o===null&&(["inset-block","inset-block-start","inset-block-end"].forEach(x=>m.style.removeProperty(x)),["left","right","top","bottom"].forEach(x=>{m.style.getPropertyValue(x)&&m.style.setProperty(x,"0px")})))}S(v,r)}function b(){const T=l.uid();function S(g){const m=N(v,g),C=m.getPropertyValue("content");if(C!==""&&C!=="none"){let Q=function(){const Z=`.${T}:`+g,tt=(m.cssText?et:nt)();return document.createTextNode(Z+`{${tt}}`);function et(){return`${m.cssText} content: ${C};`}function nt(){return l.asArray(m).map(ot).join("; ")+";";function ot(U){const rt=m.getPropertyValue(U),it=m.getPropertyPriority(U)?" !important":"";return U+": "+rt+it}}};const x=r.getAttribute("class")||"",_=(r.setAttribute("class",x+" "+T),document.createElement("style"));_.appendChild(Q()),r.appendChild(_)}}[":before",":after"].forEach(function(g){S(g)})}function D(){l.isHTMLTextAreaElement(v)&&(r.innerHTML=v.value),l.isHTMLInputElement(v)&&r.setAttribute("value",v.value)}function H(){l.isSVGElement(r)&&(r.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.isSVGRectElement(r))&&["width","height"].forEach(function(T){const S=r.getAttribute(T);S&&r.style.setProperty(T,S)})}}}(s,e,null)}).then(X).then(K).then(function(s){e.bgcolor&&(s.style.backgroundColor=e.bgcolor),e.width&&(s.style.width=e.width+"px"),e.height&&(s.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach(function(t){s.style[t]=e.style[t]});let c=null;return typeof e.onclone=="function"&&(c=e.onclone(s)),Promise.resolve(c).then(function(){return s})}).then(function(s){let c=e.width||l.width(s),t=e.height||l.height(s);return Promise.resolve(s).then(function(n){return n.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(n)}).then(l.escapeXhtml).then(function(n){var o=(l.isDimensionMissing(c)?' width="100%"':` width="${c}"`)+(l.isDimensionMissing(t)?' height="100%"':` height="${t}"`);return`<svg xmlns="http://www.w3.org/2000/svg"${(l.isDimensionMissing(c)?"":` width="${c}"`)+(l.isDimensionMissing(t)?"":` height="${t}"`)}><foreignObject${o}>${n}</foreignObject></svg>`}).then(function(n){return"data:image/svg+xml;charset=utf-8,"+n})}).then(function(s){for(;0<h.length;){var c=h.pop();c.parent.replaceChild(c.child,c.wrapper)}return s}).then(function(s){return y.impl.urlCache=[],function(){P&&(document.body.removeChild(P),P=null),O&&clearTimeout(O),O=setTimeout(()=>{O=null,$={}},2e4)}(),s})}function V(a,e){return W(a,e=e||{}).then(l.makeImage).then(function(i){var h=typeof e.scale!="number"?1:e.scale,s=function(t,n){let o=e.width||l.width(t),u=e.height||l.height(t);return l.isDimensionMissing(o)&&(o=l.isDimensionMissing(u)?300:2*u),l.isDimensionMissing(u)&&(u=o/2),t=document.createElement("canvas"),t.width=o*n,t.height=u*n,e.bgcolor&&((n=t.getContext("2d")).fillStyle=e.bgcolor,n.fillRect(0,0,t.width,t.height)),t}(a,h),c=s.getContext("2d");return c.msImageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1,i&&(c.scale(h,h),c.drawImage(i,0,0)),s})}let P=null;function X(a){return k.resolveAll().then(function(e){var i;return e!==""&&(i=document.createElement("style"),a.appendChild(i),i.appendChild(document.createTextNode(e))),a})}function K(a){return j.inlineAll(a).then(function(){return a})}function Y(a,e,i,h,s){const c=y.impl.options.copyDefaultStyles?function(n,f){var f=function(d){var w=[];do if(d.nodeType===F){var p=d.tagName;if(w.push(p),J.includes(p))break}while(d=d.parentNode,d);return w}(f),u=function(d){return(n.styleCaching!=="relaxed"?d:d.filter((w,p,r)=>p===0||p===r.length-1)).join(">")}(f);if($[u])return $[u];var E=function(){if(P)return P.contentWindow;var d=document.characterSet||"UTF-8",w=document.doctype,w=w?(`<!DOCTYPE ${p(w.name)} ${p(w.publicId)} `+p(w.systemId)).trim()+">":"";return(P=document.createElement("iframe")).id="domtoimage-sandbox-"+l.uid(),P.style.visibility="hidden",P.style.position="fixed",document.body.appendChild(P),function(r,v,A,b){try{return r.contentWindow.document.write(v+`<html><head><meta charset='${A}'><title>${b}</title></head><body></body></html>`),r.contentWindow}catch{}var D=document.createElement("meta");D.setAttribute("charset",A);try{var H=document.implementation.createHTMLDocument(b),T=(H.head.appendChild(D),v+H.documentElement.outerHTML);return r.setAttribute("srcdoc",T),r.contentWindow}catch{}return r.contentDocument.head.appendChild(D),r.contentDocument.title=b,r.contentWindow}(P,w,d,"domtoimage-sandbox");function p(r){var v;return r?((v=document.createElement("div")).innerText=r,v.innerHTML):""}}(),f=function(d,w){let p=d.body;do{var r=w.pop(),r=d.createElement(r);p.appendChild(r),p=r}while(0<w.length);return p.textContent="​",p}(E.document,f),E=function(d,w){const p={},r=d.getComputedStyle(w);return l.asArray(r).forEach(function(v){p[v]=v==="width"||v==="height"?"auto":r.getPropertyValue(v)}),p}(E,f);return function(d){do{var w=d.parentElement;w!==null&&w.removeChild(d),d=w}while(d&&d.tagName!=="BODY")}(f),$[u]=E}(a,e):{},t=s.style;l.asArray(i).forEach(function(n){var o,u=i.getPropertyValue(n),f=c[n],E=h?h.getPropertyValue(n):void 0;(u!==f||h&&u!==E)&&(f=i.getPropertyPriority(n),E=t,u=u,f=f,o=0<=["background-clip"].indexOf(n=n),f?(E.setProperty(n,u,f),o&&E.setProperty("-webkit-"+n,u,f)):(E.setProperty(n,u),o&&E.setProperty("-webkit-"+n,u)))})}let O=null,$={};const J=["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DETAILS","DIALOG","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","SVG","TABLE","UL","math","svg","BODY","HEAD","HTML"]})(lt)})(q);var st=q.exports;const ft=ut(st);export{lt as c,ft as d,ut as g};
