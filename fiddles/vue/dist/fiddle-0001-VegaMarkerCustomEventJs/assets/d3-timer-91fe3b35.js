var o=0,l=0,f=0,T=1e3,w,c,_=0,r=0,p=0,s=typeof performance=="object"&&performance.now?performance:Date,I=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function v(){return r||(I(d),r=s.now()+p)}function d(){r=0}function h(){this._call=this._time=this._next=null}h.prototype=j.prototype={constructor:h,restart:function(n,t,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?v():+i)+(t==null?0:+t),!this._next&&c!==this&&(c?c._next=this:w=this,c=this),this._call=n,this._time=i,m()},stop:function(){this._call&&(this._call=null,this._time=1/0,m())}};function j(n,t,i){var e=new h;return e.restart(n,t,i),e}function q(){v(),++o;for(var n=w,t;n;)(t=r-n._time)>=0&&n._call.call(void 0,t),n=n._next;--o}function y(){r=(_=s.now())+p,o=l=0;try{q()}finally{o=0,D(),r=0}}function A(){var n=s.now(),t=n-_;t>T&&(p-=t,_=n)}function D(){for(var n,t=w,i,e=1/0;t;)t._call?(e>t._time&&(e=t._time),n=t,t=t._next):(i=t._next,t._next=null,t=n?n._next=i:w=i);c=n,m(e)}function m(n){if(!o){l&&(l=clearTimeout(l));var t=n-r;t>24?(n<1/0&&(l=setTimeout(y,n-s.now()-p)),f&&(f=clearInterval(f))):(f||(_=s.now(),f=setInterval(A,T)),o=1,I(y))}}function N(n,t,i){var e=new h,k=t;return t==null?(e.restart(n,t,i),e):(e._restart=e.restart,e.restart=function(F,u,a){u=+u,a=a==null?v():+a,e._restart(function b(x){x+=k,e._restart(b,k+=u,a),F(x)},u,a)},e.restart(n,t,i),e)}export{N as i,j as t};
