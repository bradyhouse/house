import{I as O}from"./internmap-f6506551.js";import{b as F,t as on,a as R,c as cn,d as sn,q as ln}from"./d3-array-ee3dc224.js";import{t as fn,u as gn}from"./d3-time-format-f8f728fb.js";import{s as V,t as mn,a as hn,b as pn,c as yn,d as vn,e as Mn,f as kn,g as wn,u as dn,h as Nn,i as bn,j as qn,k as Sn,l as An,m as Dn,n as Fn}from"./d3-time-22f10c4f.js";import{i as In,a as P,b as j,p as En}from"./d3-interpolate-5b94efd8.js";import{f as X,p as Tn,a as Rn,b as $n,c as Ln,d as Z}from"./d3-format-927789ae.js";function w(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function N(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const C=Symbol("implicit");function Pn(){var n=new O,t=[],e=[],r=C;function o(u){let a=n.get(u);if(a===void 0){if(r!==C)return r;n.set(u,a=t.push(u)-1)}return e[a%e.length]}return o.domain=function(u){if(!arguments.length)return t.slice();t=[],n=new O;for(const a of u)n.has(a)||n.set(a,t.push(a)-1);return o},o.range=function(u){return arguments.length?(e=Array.from(u),o):e.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.copy=function(){return Pn(t,e).unknown(r)},w.apply(o,arguments),o}function jn(n){return function(){return n}}function $(n){return+n}var U=[0,1];function v(n){return n}function L(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:jn(isNaN(t)?NaN:.5)}function xn(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function Yn(n,t,e){var r=n[0],o=n[1],u=t[0],a=t[1];return o<r?(r=L(o,r),u=e(a,u)):(r=L(r,o),u=e(u,a)),function(c){return u(r(c))}}function zn(n,t,e){var r=Math.min(n.length,t.length)-1,o=new Array(r),u=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=L(n[a],n[a+1]),u[a]=e(t[a],t[a+1]);return function(c){var s=F(n,c,1,r)-1;return u[s](o[s](c))}}function S(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function I(){var n=U,t=U,e=P,r,o,u,a=v,c,s,i;function g(){var l=Math.min(n.length,t.length);return a!==v&&(a=xn(n[0],n[l-1])),c=l>2?zn:Yn,s=i=null,f}function f(l){return l==null||isNaN(l=+l)?u:(s||(s=c(n.map(r),t,e)))(r(a(l)))}return f.invert=function(l){return a(o((i||(i=c(t,n.map(r),In)))(l)))},f.domain=function(l){return arguments.length?(n=Array.from(l,$),g()):n.slice()},f.range=function(l){return arguments.length?(t=Array.from(l),g()):t.slice()},f.rangeRound=function(l){return t=Array.from(l),e=j,g()},f.clamp=function(l){return arguments.length?(a=l?!0:v,g()):a!==v},f.interpolate=function(l){return arguments.length?(e=l,g()):e},f.unknown=function(l){return arguments.length?(u=l,f):u},function(l,p){return r=l,o=p,g()}}function _(){return I()(v,v)}function Hn(n,t,e,r){var o=on(n,t,e),u;switch(r=X(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(u=$n(o,a))&&(r.precision=u),Ln(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(u=Rn(o,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=u-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(u=Tn(o))&&(r.precision=u-(r.type==="%")*2);break}}return Z(r)}function q(n){var t=n.domain;return n.ticks=function(e){var r=t();return R(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var o=t();return Hn(o[0],o[o.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),o=0,u=r.length-1,a=r[o],c=r[u],s,i,g=10;for(c<a&&(i=a,a=c,c=i,i=o,o=u,u=i);g-- >0;){if(i=cn(a,c,e),i===s)return r[o]=a,r[u]=c,t(r);if(i>0)a=Math.floor(a/i)*i,c=Math.ceil(c/i)*i;else if(i<0)a=Math.ceil(a*i)/i,c=Math.floor(c*i)/i;else break;s=i}return n},n}function On(){var n=_();return n.copy=function(){return S(n,On())},w.apply(n,arguments),q(n)}function Cn(n){var t;function e(r){return r==null||isNaN(r=+r)?t:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(n=Array.from(r,$),e):n.slice()},e.unknown=function(r){return arguments.length?(t=r,e):t},e.copy=function(){return Cn(n).unknown(t)},n=arguments.length?Array.from(n,$):[0,1],q(e)}function nn(n,t){n=n.slice();var e=0,r=n.length-1,o=n[e],u=n[r],a;return u<o&&(a=e,e=r,r=a,a=o,o=u,u=a),n[e]=t.floor(o),n[r]=t.ceil(u),n}function B(n){return Math.log(n)}function W(n){return Math.exp(n)}function Un(n){return-Math.log(-n)}function Bn(n){return-Math.exp(-n)}function Wn(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Gn(n){return n===10?Wn:n===Math.E?Math.exp:t=>Math.pow(n,t)}function Jn(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function G(n){return(t,e)=>-n(-t,e)}function x(n){const t=n(B,W),e=t.domain;let r=10,o,u;function a(){return o=Jn(r),u=Gn(r),e()[0]<0?(o=G(o),u=G(u),n(Un,Bn)):n(B,W),t}return t.base=function(c){return arguments.length?(r=+c,a()):r},t.domain=function(c){return arguments.length?(e(c),a()):e()},t.ticks=c=>{const s=e();let i=s[0],g=s[s.length-1];const f=g<i;f&&([i,g]=[g,i]);let l=o(i),p=o(g),y,m;const d=c==null?10:+c;let M=[];if(!(r%1)&&p-l<d){if(l=Math.floor(l),p=Math.ceil(p),i>0){for(;l<=p;++l)for(y=1;y<r;++y)if(m=l<0?y/u(-l):y*u(l),!(m<i)){if(m>g)break;M.push(m)}}else for(;l<=p;++l)for(y=r-1;y>=1;--y)if(m=l>0?y/u(-l):y*u(l),!(m<i)){if(m>g)break;M.push(m)}M.length*2<d&&(M=R(i,g,d))}else M=R(l,p,Math.min(p-l,d)).map(u);return f?M.reverse():M},t.tickFormat=(c,s)=>{if(c==null&&(c=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=X(s)).precision==null&&(s.trim=!0),s=Z(s)),c===1/0)return s;const i=Math.max(1,r*c/t.ticks().length);return g=>{let f=g/u(Math.round(o(g)));return f*r<r-.5&&(f*=r),f<=i?s(g):""}},t.nice=()=>e(nn(e(),{floor:c=>u(Math.floor(o(c))),ceil:c=>u(Math.ceil(o(c)))})),t}function Kn(){const n=x(I()).domain([1,10]);return n.copy=()=>S(n,Kn()).base(n.base()),w.apply(n,arguments),n}function J(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function K(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function Y(n){var t=1,e=n(J(t),K(t));return e.constant=function(r){return arguments.length?n(J(t=+r),K(t)):t},q(e)}function Qn(){var n=Y(I());return n.copy=function(){return S(n,Qn()).constant(n.constant())},w.apply(n,arguments)}function Q(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Vn(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Xn(n){return n<0?-n*n:n*n}function z(n){var t=n(v,v),e=1;function r(){return e===1?n(v,v):e===.5?n(Vn,Xn):n(Q(e),Q(1/e))}return t.exponent=function(o){return arguments.length?(e=+o,r()):e},q(t)}function tn(){var n=z(I());return n.copy=function(){return S(n,tn()).exponent(n.exponent())},w.apply(n,arguments),n}function pt(){return tn.apply(null,arguments).exponent(.5)}function Zn(){var n=[],t=[],e=[],r;function o(){var a=0,c=Math.max(1,t.length);for(e=new Array(c-1);++a<c;)e[a-1]=ln(n,a/c);return u}function u(a){return a==null||isNaN(a=+a)?r:t[F(e,a)]}return u.invertExtent=function(a){var c=t.indexOf(a);return c<0?[NaN,NaN]:[c>0?e[c-1]:n[0],c<e.length?e[c]:n[n.length-1]]},u.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let c of a)c!=null&&!isNaN(c=+c)&&n.push(c);return n.sort(sn),o()},u.range=function(a){return arguments.length?(t=Array.from(a),o()):t.slice()},u.unknown=function(a){return arguments.length?(r=a,u):r},u.quantiles=function(){return e.slice()},u.copy=function(){return Zn().domain(n).range(t).unknown(r)},w.apply(u,arguments)}function _n(){var n=0,t=1,e=1,r=[.5],o=[0,1],u;function a(s){return s!=null&&s<=s?o[F(r,s,0,e)]:u}function c(){var s=-1;for(r=new Array(e);++s<e;)r[s]=((s+1)*t-(s-e)*n)/(e+1);return a}return a.domain=function(s){return arguments.length?([n,t]=s,n=+n,t=+t,c()):[n,t]},a.range=function(s){return arguments.length?(e=(o=Array.from(s)).length-1,c()):o.slice()},a.invertExtent=function(s){var i=o.indexOf(s);return i<0?[NaN,NaN]:i<1?[n,r[0]]:i>=e?[r[e-1],t]:[r[i-1],r[i]]},a.unknown=function(s){return arguments.length&&(u=s),a},a.thresholds=function(){return r.slice()},a.copy=function(){return _n().domain([n,t]).range(o).unknown(u)},w.apply(q(a),arguments)}function nt(){var n=[.5],t=[0,1],e,r=1;function o(u){return u!=null&&u<=u?t[F(n,u,0,r)]:e}return o.domain=function(u){return arguments.length?(n=Array.from(u),r=Math.min(n.length,t.length-1),o):n.slice()},o.range=function(u){return arguments.length?(t=Array.from(u),r=Math.min(n.length,t.length-1),o):t.slice()},o.invertExtent=function(u){var a=t.indexOf(u);return[n[a-1],n[a]]},o.unknown=function(u){return arguments.length?(e=u,o):e},o.copy=function(){return nt().domain(n).range(t).unknown(e)},w.apply(o,arguments)}function tt(n){return new Date(n)}function rt(n){return n instanceof Date?+n:+new Date(+n)}function H(n,t,e,r,o,u,a,c,s,i){var g=_(),f=g.invert,l=g.domain,p=i(".%L"),y=i(":%S"),m=i("%I:%M"),d=i("%I %p"),M=i("%a %d"),A=i("%b %d"),D=i("%B"),un=i("%Y");function an(h){return(s(h)<h?p:c(h)<h?y:a(h)<h?m:u(h)<h?d:r(h)<h?o(h)<h?M:A:e(h)<h?D:un)(h)}return g.invert=function(h){return new Date(f(h))},g.domain=function(h){return arguments.length?l(Array.from(h,rt)):l().map(tt)},g.ticks=function(h){var k=l();return n(k[0],k[k.length-1],h??10)},g.tickFormat=function(h,k){return k==null?an:i(k)},g.nice=function(h){var k=l();return(!h||typeof h.range!="function")&&(h=t(k[0],k[k.length-1],h??10)),h?l(nn(k,h)):g},g.copy=function(){return S(g,H(n,t,e,r,o,u,a,c,s,i))},g}function yt(){return w.apply(H(wn,kn,Mn,vn,yn,pn,hn,mn,V,fn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vt(){return w.apply(H(Fn,Dn,An,Sn,qn,bn,Nn,dn,V,gn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E(){var n=0,t=1,e,r,o,u,a=v,c=!1,s;function i(f){return f==null||isNaN(f=+f)?s:a(o===0?.5:(f=(u(f)-e)*o,c?Math.max(0,Math.min(1,f)):f))}i.domain=function(f){return arguments.length?([n,t]=f,e=u(n=+n),r=u(t=+t),o=e===r?0:1/(r-e),i):[n,t]},i.clamp=function(f){return arguments.length?(c=!!f,i):c},i.interpolator=function(f){return arguments.length?(a=f,i):a};function g(f){return function(l){var p,y;return arguments.length?([p,y]=l,a=f(p,y),i):[a(0),a(1)]}}return i.range=g(P),i.rangeRound=g(j),i.unknown=function(f){return arguments.length?(s=f,i):s},function(f){return u=f,e=f(n),r=f(t),o=e===r?0:1/(r-e),i}}function b(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function et(){var n=q(E()(v));return n.copy=function(){return b(n,et())},N.apply(n,arguments)}function ut(){var n=x(E()).domain([1,10]);return n.copy=function(){return b(n,ut()).base(n.base())},N.apply(n,arguments)}function at(){var n=Y(E());return n.copy=function(){return b(n,at()).constant(n.constant())},N.apply(n,arguments)}function rn(){var n=z(E());return n.copy=function(){return b(n,rn()).exponent(n.exponent())},N.apply(n,arguments)}function Mt(){return rn.apply(null,arguments).exponent(.5)}function T(){var n=0,t=.5,e=1,r=1,o,u,a,c,s,i=v,g,f=!1,l;function p(m){return isNaN(m=+m)?l:(m=.5+((m=+g(m))-u)*(r*m<r*u?c:s),i(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([n,t,e]=m,o=g(n=+n),u=g(t=+t),a=g(e=+e),c=o===u?0:.5/(u-o),s=u===a?0:.5/(a-u),r=u<o?-1:1,p):[n,t,e]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(i=m,p):i};function y(m){return function(d){var M,A,D;return arguments.length?([M,A,D]=d,i=En(m,[M,A,D]),p):[i(0),i(.5),i(1)]}}return p.range=y(P),p.rangeRound=y(j),p.unknown=function(m){return arguments.length?(l=m,p):l},function(m){return g=m,o=m(n),u=m(t),a=m(e),c=o===u?0:.5/(u-o),s=u===a?0:.5/(a-u),r=u<o?-1:1,p}}function ot(){var n=q(T()(v));return n.copy=function(){return b(n,ot())},N.apply(n,arguments)}function it(){var n=x(T()).domain([.1,1,10]);return n.copy=function(){return b(n,it()).base(n.base())},N.apply(n,arguments)}function ct(){var n=Y(T());return n.copy=function(){return b(n,ct()).constant(n.constant())},N.apply(n,arguments)}function en(){var n=z(T());return n.copy=function(){return b(n,en()).exponent(n.exponent())},N.apply(n,arguments)}function kt(){return en.apply(null,arguments).exponent(.5)}export{Cn as a,Kn as b,Qn as c,et as d,ut as e,rn as f,Mt as g,at as h,C as i,ot as j,it as k,On as l,en as m,kt as n,ct as o,tn as p,Zn as q,_n as r,pt as s,yt as t,vt as u,nt as v,Pn as w,Hn as x};
