function s(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function D(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function q(n){let e,i,t;n.length!==2?(e=s,i=(r,c)=>s(n(r),c),t=(r,c)=>n(r)-c):(e=n===s||n===D?n:F,i=n,t=n);function f(r,c,u=0,h=r.length){if(u<h){if(e(c,c)!==0)return h;do{const d=u+h>>>1;i(r[d],c)<0?u=d+1:h=d}while(u<h)}return u}function l(r,c,u=0,h=r.length){if(u<h){if(e(c,c)!==0)return h;do{const d=u+h>>>1;i(r[d],c)<=0?u=d+1:h=d}while(u<h)}return u}function o(r,c,u=0,h=r.length){const d=f(r,c,u,h-1);return d>u&&t(r[d-1],c)>-t(r[d],c)?d-1:d}return{left:f,center:o,right:l}}function F(){return 0}function A(n){return n===null?NaN:+n}function*I(n,e){if(e===void 0)for(let i of n)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let t of n)(t=e(t,++i,n))!=null&&(t=+t)>=t&&(yield t)}}const _=q(s),L=_.right,C=_.left;q(A).center;const G=L;function R(n,e){let i=0,t,f=0,l=0;if(e===void 0)for(let o of n)o!=null&&(o=+o)>=o&&(t=o-f,f+=t/++i,l+=t*(o-f));else{let o=-1;for(let r of n)(r=e(r,++o,n))!=null&&(r=+r)>=r&&(t=r-f,f+=t/++i,l+=t*(r-f))}if(i>1)return l/(i-1)}function H(n,e){const i=R(n,e);return i&&Math.sqrt(i)}class J{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const i=this._partials;let t=0;for(let f=0;f<this._n&&f<32;f++){const l=i[f],o=e+l,r=Math.abs(e)<Math.abs(l)?e-(o-l):l-(o-e);r&&(i[t++]=r),e=o}return i[t]=e,this._n=t+1,this}valueOf(){const e=this._partials;let i=this._n,t,f,l,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,f=e[--i],o=t+f,l=f-(o-t),!l););i>0&&(l<0&&e[i-1]<0||l>0&&e[i-1]>0)&&(f=l*2,t=o+f,f==t-o&&(o=t))}return o}}function K(n,e){return Array.from(e,i=>n[i])}function y(n=s){if(n===s)return x;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,i)=>{const t=n(e,i);return t||t===0?t:(n(i,i)===0)-(n(e,e)===0)}}function x(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const B=Math.sqrt(50),E=Math.sqrt(10),O=Math.sqrt(2);function m(n,e,i){const t=(e-n)/Math.max(0,i),f=Math.floor(Math.log10(t)),l=t/Math.pow(10,f),o=l>=B?10:l>=E?5:l>=O?2:1;let r,c,u;return f<0?(u=Math.pow(10,-f)/o,r=Math.round(n*u),c=Math.round(e*u),r/u<n&&++r,c/u>e&&--c,u=-u):(u=Math.pow(10,f)*o,r=Math.round(n/u),c=Math.round(e/u),r*u<n&&++r,c*u>e&&--c),c<r&&.5<=i&&i<2?m(n,e,i*2):[r,c,u]}function P(n,e,i){if(e=+e,n=+n,i=+i,!(i>0))return[];if(n===e)return[n];const t=e<n,[f,l,o]=t?m(e,n,i):m(n,e,i);if(!(l>=f))return[];const r=l-f+1,c=new Array(r);if(t)if(o<0)for(let u=0;u<r;++u)c[u]=(l-u)/-o;else for(let u=0;u<r;++u)c[u]=(l-u)*o;else if(o<0)for(let u=0;u<r;++u)c[u]=(f+u)/-o;else for(let u=0;u<r;++u)c[u]=(f+u)*o;return c}function a(n,e,i){return e=+e,n=+n,i=+i,m(n,e,i)[2]}function Q(n,e,i){e=+e,n=+n,i=+i;const t=e<n,f=t?a(e,n,i):a(n,e,i);return(t?-1:1)*(f<0?1/-f:f)}function N(n,e){let i;if(e===void 0)for(const t of n)t!=null&&(i<t||i===void 0&&t>=t)&&(i=t);else{let t=-1;for(let f of n)(f=e(f,++t,n))!=null&&(i<f||i===void 0&&f>=f)&&(i=f)}return i}function g(n,e){let i;if(e===void 0)for(const t of n)t!=null&&(i>t||i===void 0&&t>=t)&&(i=t);else{let t=-1;for(let f of n)(f=e(f,++t,n))!=null&&(i>f||i===void 0&&f>=f)&&(i=f)}return i}function S(n,e,i=0,t=1/0,f){if(e=Math.floor(e),i=Math.floor(Math.max(0,i)),t=Math.floor(Math.min(n.length-1,t)),!(i<=e&&e<=t))return n;for(f=f===void 0?x:y(f);t>i;){if(t-i>600){const c=t-i+1,u=e-i+1,h=Math.log(c),d=.5*Math.exp(2*h/3),w=.5*Math.sqrt(h*d*(c-d)/c)*(u-c/2<0?-1:1),j=Math.max(i,Math.floor(e-u*d/c+w)),z=Math.min(t,Math.floor(e+(c-u)*d/c+w));S(n,e,j,z,f)}const l=n[e];let o=i,r=t;for(M(n,i,e),f(n[t],l)>0&&M(n,i,t);o<r;){for(M(n,o,r),++o,--r;f(n[o],l)<0;)++o;for(;f(n[r],l)>0;)--r}f(n[i],l)===0?M(n,i,r):(++r,M(n,r,t)),r<=e&&(i=r+1),e<=r&&(t=r-1)}return n}function M(n,e,i){const t=n[e];n[e]=n[i],n[i]=t}function T(n,e,i){if(n=Float64Array.from(I(n,i)),!(!(t=n.length)||isNaN(e=+e))){if(e<=0||t<2)return g(n);if(e>=1)return N(n);var t,f=(t-1)*e,l=Math.floor(f),o=N(S(n,l).subarray(0,l+1)),r=g(n.subarray(l+1));return o+(r-o)*(f-l)}}function U(n,e,i=A){if(!(!(t=n.length)||isNaN(e=+e))){if(e<=0||t<2)return+i(n[0],0,n);if(e>=1)return+i(n[t-1],t-1,n);var t,f=(t-1)*e,l=Math.floor(f),o=+i(n[l],l,n),r=+i(n[l+1],l+1,n);return o+(r-o)*(f-l)}}function V(n,e){let i=0,t=0;if(e===void 0)for(let f of n)f!=null&&(f=+f)>=f&&(++i,t+=f);else{let f=-1;for(let l of n)(l=e(l,++f,n))!=null&&(l=+l)>=l&&(++i,t+=l)}if(i)return t/i}function W(n,e){return T(n,.5,e)}function*b(n){for(const e of n)yield*e}function X(n){return Array.from(b(n))}function Y(n,e,i){n=+n,e=+e,i=(f=arguments.length)<2?(e=n,n=0,1):f<3?1:+i;for(var t=-1,f=Math.max(0,Math.ceil((e-n)/i))|0,l=new Array(f);++t<f;)l[t]=n+t*i;return l}function Z(n,e){let i=0;if(e===void 0)for(let t of n)(t=+t)&&(i+=t);else{let t=-1;for(let f of n)(f=+e(f,++t,n))&&(i+=f)}return i}export{J as A,P as a,G as b,a as c,s as d,q as e,C as f,L as g,N as h,H as i,T as j,W as k,V as l,X as m,g as n,K as p,U as q,Y as r,Z as s,Q as t};
