Ext.define("Ext.pivot.result.Collection",{alternateClassName:["Mz.aggregate.matrix.Results"],requires:["Ext.pivot.MixedCollection","Ext.pivot.result.Base"],resultType:"base",items:null,matrix:null,constructor:function(a){var b=this;Ext.apply(b,a||{});b.items=Ext.create("Ext.pivot.MixedCollection");b.items.getKey=function(c){return c.leftKey+"/"+c.topKey};return b.callParent(arguments)},destroy:function(){var a=this;Ext.destroy(a.items);a.matrix=a.items=null;a.callParent(arguments)},clear:function(){this.items.clear()},add:function(c,a){var b=this.get(c,a);if(!b){b=this.items.add(Ext.Factory.pivotresult({type:this.resultType,leftKey:c,topKey:a,matrix:this.matrix}))}return b},get:function(b,a){return this.items.getByKey(b+"/"+a)},getByLeftKey:function(b){var a=this.items.filterBy(function(e,c){var d=String(c).split("/");return(b==d[0])});return a.getRange()},getByTopKey:function(b){var a=this.items.filterBy(function(e,c){var d=String(c).split("/");return(d.length>1&&b==d[1])});return a.getRange()},calculate:function(){this.items.each(function(a){a.calculate()})}});