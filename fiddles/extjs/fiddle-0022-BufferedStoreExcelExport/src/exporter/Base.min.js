Ext.define("Ext.exporter.Base",{mixins:["Ext.mixin.Factoryable"],alias:"exporter.base",requires:["Ext.exporter.File"],config:{data:null,showSummary:true,title:"",author:"Sencha",fileName:"export.txt",charset:"UTF-8"},constructor:function(a){this.initConfig(a||{});return this.callParent(arguments)},getContent:Ext.identityFn,saveAs:function(){Ext.exporter.File.saveAs(this.getContent(),this.getFileName(),this.getCharset())},getColumnCount:function(b){var c=0;if(!b){return c}for(var a=0;a<b.length;a++){if(!b[a].columns){c+=1}else{c+=this.getColumnCount(b[a].columns)}}return c},applyData:function(a){if(Ext.isObject(a)){a.columns=a.columns||[];this.fixColumns(a.columns,this.getColDepth(a.columns,-1))}else{a={}}a.groups=a.groups||[];return a},getColDepth:function(c,d){var a=0;if(!c){return d}for(var b=0;b<c.length;b++){c[b].level=d+1;a=Math.max(a,this.getColDepth(c[b].columns,d+1))}return a},fixColumns:function(c,d){var a;if(!c){return}for(var b=0;b<c.length;b++){a=c[b];if(!a.columns&&d>a.level){a.columns=[];a.columns.push({text:"",level:a.level+1})}this.fixColumns(a.columns,d)}}});